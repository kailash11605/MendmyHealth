{% extends "base.html" %}

{% block content %}
<div class="rainbow"></div>
<div class="card">
  <h1>Mend_hel Feed Analysis Result</h1>
  <div class="result-container">
      <h2>Mental Health Impact Score: <span class="score">{{ score }}/10</span></h2>
      <div class="analysis">
          <h3>Analysis:</h3>
          <p>{{ analysis }}</p>
      </div>
      <div class="safety-check">
          <h3>Content Safety Check:</h3>
          <p>{{ safety_check }}</p>
      </div>
  </div>
  <a href="{{ url_for('feed_analyzer') }}" class="button">Analyze Another Video</a>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
      gsap.from('.card', { duration: 1, y: 50, opacity: 0, ease: 'power3.out' });
      gsap.from('.result-container', { duration: 0.5, scale: 0.95, opacity: 0, ease: 'power3.out', delay: 0.5 });
      gsap.from('.score', { duration: 1, textContent: 0, snap: { textContent: 1 }, ease: 'power1.inOut' });
      gsap.from('.button', { duration: 0.5, y: 20, opacity: 0, ease: 'power3.out', delay: 1 });
      
      // Add animated elements
      const animatedElements = ['ðŸŽ¥', 'ðŸ“Š', 'ðŸ§ '];
      for (let i = 0; i < 20; i++) {
          let element = document.createElement('div');
          element.className = 'animated-element';
          element.textContent = animatedElements[Math.floor(Math.random() * animatedElements.length)];
          element.style.left = `${Math.random() * 100}%`;
          element.style.top = `${Math.random() * 100}%`;
          element.style.animationDelay = `${Math.random() * 5}s`;
          document.body.appendChild(element);
      }
  });
</script>
{% endblock %}

